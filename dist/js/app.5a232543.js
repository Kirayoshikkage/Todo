(function(t){function e(e){for(var a,i,r=e[0],o=e[1],u=e[2],b=0,d=[];b<r.length;b++)i=r[b],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==s[o]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},c=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=o;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"242a":function(t,e,n){"use strict";n("e609")},"3bd1":function(t,e,n){"use strict";n("8195")},"46e9":function(t,e,n){"use strict";n("bed5")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function s(t,e,n,s,c,i){var r=Object(a["A"])("router-view");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["i"])(r,{name:"header"}),Object(a["i"])(r,{name:"main"})],64)}var c={created:function(){this.$store.dispatch("unloadDataInTaskList")}},i=(n("46e9"),n("6b0d")),r=n.n(i);const o=r()(c,[["render",s]]);var u=o,l=n("6c02"),b=(n("b0c0"),{class:"header"}),d={class:"container header__container"},f=Object(a["h"])(" Перейти к списку задач "),k=Object(a["h"])(" Перейти к созданию новой задачи "),m=Object(a["h"])(" Перейти к списку задач ");function p(t,e,n,s,c,i){var r=Object(a["A"])("router-link");return Object(a["t"])(),Object(a["f"])("header",b,[Object(a["g"])("div",d,["main"==t.$route.name?(Object(a["t"])(),Object(a["d"])(r,{key:0,class:"header__link header__link_text-right",to:{name:"taskList"}},{default:Object(a["G"])((function(){return[f]})),_:1})):"taskList"==t.$route.name?(Object(a["t"])(),Object(a["d"])(r,{key:1,class:"header__link",to:{name:"main"}},{default:Object(a["G"])((function(){return[k]})),_:1})):"taskInfo"==t.$route.name?(Object(a["t"])(),Object(a["d"])(r,{key:2,class:"header__link",to:{name:"taskList"}},{default:Object(a["G"])((function(){return[m]})),_:1})):Object(a["e"])("",!0)])])}var _={name:"Header"};n("8ddc");const O=r()(_,[["render",p],["__scopeId","data-v-96fbf47c"]]);var j=O,h=function(t){return Object(a["w"])("data-v-67713be0"),t=t(),Object(a["u"])(),t},g={class:"create-task"},v={class:"container create-task__container"},y=h((function(){return Object(a["g"])("h1",{class:"lead"},"Edit task",-1)})),L={ref:"alert",class:"alert"},w=h((function(){return Object(a["g"])("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(a["g"])("path",{d:"M16.5163 8.93451L11.0597 14.7023L8.0959 11.8984","stroke-width":"2"}),Object(a["g"])("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z","stroke-width":"2"})],-1)})),T=[w],x={class:"create-task__label"},S=h((function(){return Object(a["g"])("p",{class:"create-task__placeholder"},"Title",-1)})),A={class:"create-task__label"},C=h((function(){return Object(a["g"])("p",{class:"create-task__placeholder"},"Task",-1)})),I=h((function(){return Object(a["g"])("label",{class:"create-task__label create-task__label_time"},[Object(a["g"])("p",{class:"create-task__placeholder create-task__placeholder_time"}," Time "),Object(a["g"])("input",{type:"datetime-local",name:"time",class:"create-task__input create-task__input_time",required:""})],-1)})),H={class:"create-task__buttons"},V=h((function(){return Object(a["g"])("button",{class:"create-task__button create-task__button_submit",type:"submit"}," Create ",-1)}));function F(t,e,n,s,c,i){var r=this;return Object(a["t"])(),Object(a["f"])("div",g,[Object(a["g"])("div",v,[y,Object(a["g"])("form",{ref:"form",onSubmit:e[5]||(e[5]=Object(a["I"])((function(){return i.submitForm&&i.submitForm.apply(i,arguments)}),["prevent"])),action:"#",class:"create-task__form"},[Object(a["g"])("div",L,T,512),Object(a["g"])("label",x,[S,Object(a["g"])("input",{onFocus:e[0]||(e[0]=function(){return i.placeholderAnimation&&i.placeholderAnimation.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.placeholderAnimation&&i.placeholderAnimation.apply(i,arguments)}),type:"text",name:"title",class:"create-task__input",required:""},null,32)]),Object(a["g"])("label",A,[C,Object(a["g"])("input",{onFocus:e[2]||(e[2]=function(){return i.placeholderAnimation&&i.placeholderAnimation.apply(i,arguments)}),onBlur:e[3]||(e[3]=function(){return i.placeholderAnimation&&i.placeholderAnimation.apply(i,arguments)}),type:"text",name:"task",class:"create-task__input",required:""},null,32)]),I,Object(a["g"])("div",H,[Object(a["g"])("button",{class:"create-task__button create-task__button_reset",type:"button",onClick:e[4]||(e[4]=function(t){return r.$refs.form.reset()})}," Reset "),V])],544)])])}var $={data:function(){return{childReady:!1,index:0}},methods:{dataCollectionFromForm:function(t){return{title:t.elements.title.value,task:t.elements.task.value,time:t.elements.time.value,id:Date.now(),status:new Date(t.elements.time.value)<Date.now()?"overdue":"inWork"}},createTimer:function(t,e,n){var a=1===document.querySelectorAll(".timer").length?document.querySelector(".timer"):document.querySelectorAll(".timer")[e],s=a.querySelector(".timer-days"),c=a.querySelector(".timer-hours"),i=a.querySelector(".timer-minutes"),r=a.querySelector(".timer-seconds"),o=setInterval(u,1e3,this);function u(e){var a=b(t);if(a.time<=0){var u=e.$store.getters.getTaskById(n);return u.status="overdue",e.$store.dispatch("updateTaskList",u),void clearInterval(o)}s.textContent=l(a.days),c.textContent=l(a.hours),i.textContent=l(a.minutes),r.textContent=l(a.seconds)}function l(t){return t<10?"0".concat(t):t}function b(t){var e=Date.parse(t)-Date.now(),n=Math.floor(e/1e3/60/60/24),a=Math.floor(e/1e3/60/60%24),s=Math.floor(e/1e3/60%60),c=Math.floor(e/1e3%60);return{time:e,days:n,hours:a,minutes:s,seconds:c}}u(this)},runTimer:function(t,e){var n=this;this.childReady?(this.createTimer(t,this.index,e),this.index++):setTimeout((function(){n.createTimer(t,n.index,e),n.index++}),100)}}},M={name:"CreateTask",mixins:[$],methods:{submitForm:function(){var t=this.$refs.alert;t.classList.add("alert_active"),setTimeout((function(){t.classList.remove("alert_active")}),1e3),this.$store.dispatch("updateTaskList",this.dataCollectionFromForm(this.$refs.form))},placeholderAnimation:function(t){var e=t.target.previousSibling;""==t.target.value&&e.classList.toggle("create-task__placeholder_animation")}}};n("3bd1");const q=r()(M,[["render",F],["__scopeId","data-v-67713be0"]]);var D=q,Z=(n("b64b"),function(t){return Object(a["w"])("data-v-5e0328b0"),t=t(),Object(a["u"])(),t}),E={class:"task-list"},B={class:"container"},P={key:0,class:"task-list__grid"},N={class:"task-list__title"},R={class:"task-list__status"},U={class:"task-list__task"},W=Z((function(){return Object(a["g"])("span",{class:"timer-days"},null,-1)})),J=Z((function(){return Object(a["g"])("span",{class:"timer-hours"},null,-1)})),G=Z((function(){return Object(a["g"])("span",{class:"timer-minutes"},null,-1)})),K=Z((function(){return Object(a["g"])("span",{class:"timer-seconds"},null,-1)})),z=Object(a["h"])(" Подробнее "),Q={key:1,class:"task-list__empty-task"};function X(t,e,n,s,c,i){var r=Object(a["A"])("router-link");return Object(a["t"])(),Object(a["f"])("div",E,[Object(a["g"])("div",B,[Object.keys(this.getTaskList).length?(Object(a["t"])(),Object(a["f"])("ul",P,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(this.getTaskList,(function(n,s){return Object(a["t"])(),Object(a["f"])("li",{key:n.id,class:Object(a["o"])(["task-list__item",{"task-list__item_in-work":"inWork"===n.status,"task-list__item_done":"done"===n.status}]),style:Object(a["p"])({backgroundColor:i.checkStatusForColor(n.status)})},[Object(a["g"])("h2",N,Object(a["C"])(n.title),1),Object(a["g"])("p",R,Object(a["C"])(i.checkStatusForText(n.status)),1),Object(a["g"])("p",U,[Object(a["g"])("span",null,Object(a["C"])(n.task),1),"inWork"===n.status?(Object(a["t"])(),Object(a["f"])("span",{key:0,ref_for:!0,ref:"time",onReady:e[0]||(e[0]=function(e){return t.childReady=!0}),class:"task-list__timer timer"},[Object(a["h"])(Object(a["C"])(t.runTimer(n.time,s))+" ",1),W,J,G,K],544)):Object(a["e"])("",!0)]),Object(a["i"])(r,{to:{name:"taskInfo",params:{id:"".concat(n.id)}},class:"task-list__link"},{default:Object(a["G"])((function(){return[z]})),_:2},1032,["to"])],6)})),128))])):(Object(a["t"])(),Object(a["f"])("h2",Q,"Список задач пуст 🙃"))])])}var Y=n("5530"),tt=n("5502"),et={name:"TaskList",mixins:[$],computed:Object(Y["a"])({},Object(tt["b"])(["getTaskList"])),methods:{checkStatusForColor:function(t){switch(t){case"inWork":return"#282136";case"overdue":return"#fe2852";case"done":return"#99ff99"}},checkStatusForText:function(t){switch(t){case"inWork":return"В работе";case"overdue":return"Просрочена";case"done":return"Выполнена"}}}};n("242a");const nt=r()(et,[["render",X],["__scopeId","data-v-5e0328b0"]]);var at=nt,st=function(t){return Object(a["w"])("data-v-60febfb2"),t=t(),Object(a["u"])(),t},ct={class:"task-info"},it={class:"container task-info__container"},rt={class:"task-info__item"},ot={class:"task-info__status-task"},ut={class:"task-info__status-icon"},lt=st((function(){return Object(a["g"])("svg",{"data-name":"Layer 1",id:"Layer_1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[Object(a["g"])("title"),Object(a["g"])("path",{d:"M18,5V3a1,1,0,0,0-2,0V5H8V3A1,1,0,0,0,6,3V5H2V21H22V5Zm2,14H4V7H20Zm-7-9H11v2h2Zm4,0H15v2h2ZM9,14H7v2H9Zm4,0H11v2h2Z"})],-1)})),bt=st((function(){return Object(a["g"])("p",{class:"task-info__status-text"},"В работе",-1)})),dt=st((function(){return Object(a["g"])("svg",{"data-name":"Layer 1",id:"Layer_1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[Object(a["g"])("title"),Object(a["g"])("path",{d:"M18,5V3a1,1,0,0,0-2,0V5H8V3A1,1,0,0,0,6,3V5H2V21H22V5Zm2,14H4V7H20Zm-9.87-3L12,14.13,13.87,16,15,14.87,13.13,13,15,11.13,13.87,10,12,11.87,10.13,10,9,11.13,10.87,13,9,14.87Z"})],-1)})),ft=st((function(){return Object(a["g"])("p",{class:"task-info__status-text"},"Просрочена",-1)})),kt=st((function(){return Object(a["g"])("svg",{"data-name":"Layer 1",id:"Layer_1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[Object(a["g"])("title"),Object(a["g"])("path",{d:"M18,5V3a1,1,0,0,0-2,0V5H8V3A1,1,0,0,0,6,3V5H2V21H22V5Zm2,14H4V7H20Zm-3.94-7.58-1.2-1.2L11.3,13.78,9.14,11.63l-1.2,1.2,3.36,3.36Z"})],-1)})),mt=st((function(){return Object(a["g"])("p",{class:"task-info__status-text"},"Выполнена",-1)})),pt=st((function(){return Object(a["g"])("span",{class:"timer-days"},null,-1)})),_t=st((function(){return Object(a["g"])("span",{class:"timer-hours"},null,-1)})),Ot=st((function(){return Object(a["g"])("span",{class:"timer-minutes"},null,-1)})),jt=st((function(){return Object(a["g"])("span",{class:"timer-seconds"},null,-1)})),ht=st((function(){return Object(a["g"])("p",{class:"task-info__placeholder"},"Заголовок:",-1)})),gt=["disabled"],vt=st((function(){return Object(a["g"])("p",{class:"task-info__placeholder"},"Задача:",-1)})),yt=["disabled"],Lt=st((function(){return Object(a["g"])("p",{class:"task-info__placeholder"},"Дата создания:",-1)})),wt=["disabled"],Tt=["disabled"],xt=Object(a["h"])(" Отметить задачу выполненной "),St={class:"task-info__buttons"},At=["disabled"];function Ct(t,e,n,s,c,i){var r=this;return Object(a["t"])(),Object(a["f"])("div",ct,[Object(a["g"])("div",it,[Object(a["g"])("div",rt,[Object(a["g"])("div",ot,[Object(a["g"])("div",ut,["inWork"===t.task.status?(Object(a["t"])(),Object(a["f"])(a["a"],{key:0},[lt,bt],64)):"overdue"===t.task.status?(Object(a["t"])(),Object(a["f"])(a["a"],{key:1},[dt,ft],64)):(Object(a["t"])(),Object(a["f"])(a["a"],{key:2},[kt,mt],64))]),"inWork"===t.task.status?(Object(a["t"])(),Object(a["f"])("span",{key:0,ref:"time",onReady:e[0]||(e[0]=function(e){return t.childReady=!0}),class:"task-info__timer timer"},[Object(a["h"])(Object(a["C"])(t.runTimer(t.task.time,t.task.id))+" ",1),pt,_t,Ot,jt],544)):Object(a["e"])("",!0)]),Object(a["g"])("form",{ref:"form",onSubmit:e[6]||(e[6]=Object(a["I"])((function(){return i.submitForm&&i.submitForm.apply(i,arguments)}),["prevent"])),action:"#",class:"task-info__form"},[Object(a["g"])("label",{class:Object(a["o"])(["task-info__label",{"task-info__label_active":!t.inputLock}])},[ht,Object(a["H"])(Object(a["g"])("input",{disabled:t.inputLock,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.task.title=t}),type:"text",name:"title",required:"",class:"task-info__input"},null,8,gt),[[a["E"],this.task.title]])],2),Object(a["g"])("label",{class:Object(a["o"])(["task-info__label",{"task-info__label_active":!t.inputLock}])},[vt,Object(a["H"])(Object(a["g"])("input",{disabled:t.inputLock,"onUpdate:modelValue":e[2]||(e[2]=function(t){return r.task.task=t}),type:"text",name:"task",required:"",class:"task-info__input"},null,8,yt),[[a["E"],this.task.task]])],2),Object(a["g"])("label",{class:Object(a["o"])(["task-info__label",{"task-info__label_active":!t.inputLock}])},[Lt,Object(a["H"])(Object(a["g"])("input",{disabled:t.inputLock,"onUpdate:modelValue":e[3]||(e[3]=function(t){return r.task.time=t}),type:"datetime-local",name:"time",required:"",class:"task-info__input create-task__placeholder_time"},null,8,wt),[[a["E"],this.task.time]])],2),"done"!==this.task.status?(Object(a["t"])(),Object(a["f"])(a["a"],{key:0},[Object(a["g"])("label",{class:Object(a["o"])(["task-info__label-checkbox",{"task-info__label-checkbox_disabled":t.inputLock}])},[Object(a["g"])("input",{ref:"checkbox",type:"checkbox",name:"doneTask",class:"task-info__checkbox",disabled:t.inputLock},null,8,Tt),xt],2),Object(a["g"])("div",St,[Object(a["g"])("button",{disabled:t.inputLock,type:"submit",class:"task-info__submit"}," Подвердить ",8,At),Object(a["g"])("button",{onClick:e[4]||(e[4]=function(t){return r.inputLock=!r.inputLock}),type:"button",class:"task-info__edit"}," Редактировать ")]),Object(a["g"])("button",{class:Object(a["o"])(["task-info__cancel-edit",{"task-info__cancel-edit__show":!t.inputLock}]),onClick:e[5]||(e[5]=function(){return i.cancelEdit&&i.cancelEdit.apply(i,arguments)}),type:"button"}," Отменить изменения ",2)],64)):Object(a["e"])("",!0)],544)])])])}n("e9c4"),n("d3b7"),n("159b");var It={mixins:[$],created:function(){this.task=this.$store.getters.getTaskById(this.id),this.taskCopy=JSON.parse(JSON.stringify(this.task))},name:"TaskInfo",props:["id"],data:function(){return{task:{},taskCopy:{},inputLock:!0}},methods:{submitForm:function(){var t=this.dataCollectionFromForm(this.$refs.form);t.id=this.task.id,this.$refs.checkbox.checked&&(t.status="done"),this.$router.push({name:"taskList"}),this.$store.dispatch("updateTaskList",t)},cancelEdit:function(){var t=this;Object.keys(this.task).forEach((function(e){t.task[e]=t.taskCopy[e]})),this.inputLock=!this.inputLock}}};n("faee");const Ht=r()(It,[["render",Ct],["__scopeId","data-v-60febfb2"]]);var Vt=Ht,Ft=[{name:"main",path:"/",components:{header:j,main:D}},{name:"taskList",path:"/task-list",components:{header:j,main:at}},{name:"taskInfo",path:"/task-info/:id",props:!0,components:{header:j,main:Vt}}],$t=Object(l["a"])({history:Object(l["b"])("/dist/"),routes:Ft}),Mt=$t,qt=Object(tt["a"])({state:{taskList:{}},mutations:{UPDATE_TASK_LIST:function(t,e){t.taskList[e.id]=e,localStorage.setItem("taskList",JSON.stringify(t.taskList))},UNLOAD_DATA_IN_TASK_LIST:function(t,e){t.taskList=e||{}}},actions:{updateTaskList:function(t,e){var n=t.commit;n("UPDATE_TASK_LIST",e)},unloadDataInTaskList:function(t){var e=t.commit,n=JSON.parse(localStorage.getItem("taskList"));e("UNLOAD_DATA_IN_TASK_LIST",n)}},getters:{getTaskList:function(t){return t.taskList},getTaskById:function(t){return function(e){return t.taskList[e]}}}});Object(a["c"])(u).use(qt).use(Mt).mount("#app")},"6fa1":function(t,e,n){},8195:function(t,e,n){},"8ddc":function(t,e,n){"use strict";n("6fa1")},bed5:function(t,e,n){},e609:function(t,e,n){},f43c:function(t,e,n){},faee:function(t,e,n){"use strict";n("f43c")}});
//# sourceMappingURL=app.5a232543.js.map